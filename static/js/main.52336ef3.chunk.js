(this.webpackJsonppizza=this.webpackJsonppizza||[]).push([[0],{30:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=a(8),i=a(9),m=a(5),s=a(2),d={"Content-Type":"multipart/form-data",Accept:"application/json"},u="https://pizzayummy.herokuapp.com/api/",p=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);return e.ok?{data:a,error:e.status}:Promise.reject(a&&a||e.status)}))},b={getPizzas:function(){var e="".concat(u,"order-details");return fetch(e,{method:"GET",headersFormData:d}).then((function(e){return e.json()}))},updatePizza:function(e){var t=new FormData;t.append("quantity",e.quantity),t.append("price_order",e.price_order),t.append("pizza_id",e.id);var a="".concat(u,"order-details");return fetch(a,{method:"POST",headersFormData:d,body:t}).then((function(e){return e.json()}))},deleteItem:function(e){var t="".concat(u,"order-details/").concat(e);return fetch(t,{method:"DELETE",headersFormData:d}).then(p)}};var E={getAll:function(){return function(e){b.getPizzas().then((function(t){return e(function(e){return{type:"PIZZAS_OREDERS_GETALL",pizzas:e}}(t))}))}},increment:function(e){return function(t){b.updatePizza(e).then((function(){t({type:"PIZZAS_OREDERS_INCREMENT",pizza:e})}))}},deleteItem:function(e){return function(t){b.deleteItem(e).then((function(){t(function(e){return{type:"PIZZAS_OREDERS_DELETE",id:e}}(e))}))}}};var f=a(13);function z(e){var t=e.pizza,a=e.deleteItem,c=Object(s.b)(),l=Object(n.useState)(t.quantity),o=Object(m.a)(l,1)[0],i=Object(n.useState)(t.price_order),d=Object(m.a)(i,1)[0];return r.a.createElement("div",{className:"col-md-6 mb-20"+(0===o?" d-none":""),key:t.id},r.a.createElement("div",{className:"card flex-md-row mb-4 box-shadow h-md-250 pizza__cards"},r.a.createElement("div",{className:"card-body d-flex flex-column align-items-start"},r.a.createElement("h3",{className:"mb-25"},t.name),r.a.createElement("div",{className:"quantity__pizza"},r.a.createElement("p",{className:"card-text text-muted quantity-txt"},"Quantity: ",r.a.createElement("span",{className:"text-primary"},o)),r.a.createElement("div",{class:"button__wrapper"},r.a.createElement("button",{type:"button",onClick:function(){var e=Object(f.a)({},t,{quantity:o+1,price_order:t.price*(o+1)});c(E.increment(e))},class:"btn btn-secondary btn-sm btn-plus"},"+"),1===o?r.a.createElement("button",{type:"button",onClick:function(){return a(t.id)},class:"btn btn-danger btn-sm btn-minus"},"Remove From Cart"):r.a.createElement("button",{type:"button",onClick:function(){var e=Object(f.a)({},t,{quantity:o-1,price_order:parseFloat(d-t.price).toFixed(2)});c(E.increment(e))},class:"btn btn-secondary btn-sm btn-minus"},"-"))),r.a.createElement("div",{className:"price__btn"},r.a.createElement("div",null,r.a.createElement("p",{className:"card-text mb-auto"},"Price:"),r.a.createElement("strong",{className:"d-inline-block mb-2 text-success"},d," \u20ac")))),r.a.createElement("img",{className:"card-img-right flex-auto d-md-block img-card img-card2","data-src":"holder.js/200x250?theme=thumb",alt:"Thumbnail [200x250]",src:"../pizza/"+"".concat(t.pizza_id)+".jpg","data-holder-rendered":"true"})))}function h(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.pizzaOrders})).pizzas,a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],i=c[1],d=Object(n.useState)(0),u=Object(m.a)(d,1)[0];Object(n.useEffect)((function(){e(E.getAll())}),[e]),Object(n.useEffect)((function(){t&&i(t)}),[t]);var p=function(t){e(E.deleteItem(t))},b=l.map((function(e){return u+=+e.price_order*e.quantity,r.a.createElement(z,{key:e.id+"-"+e.price_order+"-"+e.quantity,pizza:e,deleteItem:p})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h3",{class:"pb-3 mb-4 font-italic border-bottom"},"Your Items:"))),r.a.createElement("div",{className:"row mb-2 "},b),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 mt40 mb40"},r.a.createElement("h3",{className:"mb20 mb20"},"Total: ",u.toFixed(2)," \u20ac"),r.a.createElement("h3",{className:"mb20 mb40"},"Total: $",(1.08*u).toFixed(2)),r.a.createElement(o.b,{to:{pathname:"/orders"},tabIndex:"-1",className:"btn btn-lg btn-primary"},"Proceed >>")))))}var v=a(25),N=a(26),g=a(29),y=a(28),O={getPizzas:function(){var e="".concat(u,"pizzas");return fetch(e,{method:"GET",headersFormData:d}).then((function(e){return e.json()}))},addPizza:function(e){var t=new FormData;console.log(e),t.append("quantity",e.quantity),t.append("price",e.price),t.append("id",e.id),t.append("pizza_id",e.pizza_id),console.log(e);var a="".concat(u,"pizzas");return fetch(a,{method:"POST",headersFormData:d,body:t}).then((function(e){return e.json()}))}};var j={getAll:function(){return function(e){O.getPizzas().then((function(t){return e(function(e){return{type:"PIZZAS_GETALL",pizzas:e}}(t))}))}},create:function(e){return function(t){O.addPizza(e).then((function(e){t({type:"ADD_PIZZA",pizza:e})}))}}};function x(e){var t=e.pizza,a=e.setVisibility,n=Object(s.b)();return r.a.createElement("div",{className:"col-md-6",key:t.pizza_id},r.a.createElement("div",{className:"card flex-md-row mb-4 box-shadow h-md-250 pizza__cards"},r.a.createElement("div",{className:"card-body d-flex flex-column align-items-start"},r.a.createElement("h3",{className:"mb-0"},t.name),r.a.createElement("p",{className:"card-text mb-auto text-muted desc"},t.description),r.a.createElement("br",null),r.a.createElement("div",{className:"price__btn"},r.a.createElement("div",null,r.a.createElement("p",{className:"card-text mb-auto"},"Price:"),r.a.createElement("strong",{className:"d-inline-block mb-2 text-success"},t.price," \u20ac")),r.a.createElement("button",{className:"btn btn-lg btn-primary",onClick:function(){a(!0),setTimeout((function(){a(!1)}),3e3),n(j.create(t))}},"Quick Add"))),r.a.createElement("img",{className:"card-img-right flex-auto d-md-block img-card","data-src":"holder.js/200x250?theme=thumb",alt:"Thumbnail [200x250]",src:"./pizza/"+"".concat(t.id)+".jpg","data-holder-rendered":"true"})))}function _(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.pizzas})).pizzas,a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!1),d=Object(m.a)(i,2),u=d[0],p=d[1];Object(n.useEffect)((function(){e(j.getAll())}),[e]),Object(n.useEffect)((function(){t&&o(t)}),[t]);var b=l.map((function(e,t){return r.a.createElement(x,{key:e.id,pizza:e,setVisibility:p})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},u&&r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Your Item was added to Cart!"),r.a.createElement("div",{className:"row mb-2"},b)))}var S=function(e){Object(g.a)(a,e);var t=Object(y.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron p-3 p-md-5 text-white rounded bg-dark bg-img"},r.a.createElement("div",{className:"col-md-6 px-0"},r.a.createElement("h1",{className:"display-4 font-italic"},"The only place to go",r.a.createElement("br",null),r.a.createElement("span",{className:"bolded-orange"}," for Pizza")))),r.a.createElement(_,null))}}]),a}(n.Component);function P(){return r.a.createElement("header",{className:"blog-header py-3"},r.a.createElement("div",{className:"row flex-nowrap justify-content-between align-items-center"},r.a.createElement("div",{className:"col-4 pt-1"}),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement(o.b,{to:{pathname:"/"},tabIndex:"-1",className:"blog-header-logo text-dark"},"The Yummi Pizza")),r.a.createElement("div",{className:"col-4 d-flex justify-content-end align-items-center"},r.a.createElement(o.b,{to:{pathname:"/cart"},tabIndex:"-1",className:"btn btn-sm btn-outline-secondary"},"GO TO CARTS"))))}var T=a(16),w={getRegister:function(e){var t=new FormData;console.log(e),t.append("address",e.address),t.append("contact",e.contact);var a="".concat(u,"orders");return fetch(a,{method:"POST",body:t}).then(p)}};var I={register:function(e){return function(t){w.getRegister(e).then((function(e){t({type:"REGISTER_SUCCESS"})}))}}};function A(){var e=Object(s.b)(),t=Object(n.useState)({address:"",contact:""}),a=Object(m.a)(t,2),c=a[0],l=a[1],i=c.address,d=c.contact,u=Object(n.useState)(!1),p=Object(m.a)(u,2),b=p[0],E=p[1];function z(e){var t=e.target;l((function(e){return Object(f.a)({},e,Object(T.a)({},t.name,t.value))}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},b&&r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Your order is now completed!",r.a.createElement(o.b,{to:{pathname:"/"},tabIndex:"-1",className:"btn btn-sm btn-link"},"Go To HomePage")),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h3",{class:"pb-3 mb-4 font-italic border-bottom"},"Your Order:"))),r.a.createElement("section",{id:"content",className:"m-t-lg wrapper-md animated fadeInDown"},r.a.createElement("div",{className:"row m-n"},r.a.createElement("div",{className:"col-md-4 col-md-offset-4 m-t-lg"},r.a.createElement("section",{className:"panel"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),E(!0),setTimeout((function(){E(!1)}),7e3),e(I.register(c)),l({address:"",contact:""})},className:"panel-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Your Address"),r.a.createElement("input",{type:"text",placeholder:"Street 24",className:"form-control",value:i,name:"address",onChange:z})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Your Contact Number"),r.a.createElement("input",{type:"text",placeholder:"+383333111",className:"form-control",value:d,name:"contact",onChange:z})),r.a.createElement("button",{type:"submit",className:"btn btn-info mb40"},"Complete Order"))))))))}function k(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(P,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/orders",component:A}),r.a.createElement(i.a,{exact:!0,path:"/cart",component:h}),r.a.createElement(i.a,{path:"/",component:S}))))}var D=a(10),R=a(27);var F=Object(D.c)({pizzas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIZZAS_GETALL":return{pizzas:t.pizzas};default:return e}},pizzaOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIZZAS_OREDERS_GETALL":return{pizzas:t.pizzas};case"PIZZAS_OREDERS_INCREMENT":return{pizzas:e.pizzas.map((function(e){return e.id===t.pizza.id?t.pizza:e}))};case"PIZZAS_OREDERS_DELETE":return{pizzas:e.pizzas.filter((function(e){return e.id!==t.id}))};default:return e}}}),Z=Object(D.d)(F,Object(D.a)(R.a));l.a.render(r.a.createElement(s.a,{store:Z},r.a.createElement(k,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.52336ef3.chunk.js.map